<!-- Improved compatibility of back to top link: See: https://github.com/othneildrew/Best-README-Template/pull/73 -->

<a id="readme-top"></a>

<!--
*** Thanks for checking out the Best-README-Template. If you have a suggestion
*** that would make this better, please fork the repo and create a pull request
*** or simply open an issue with the tag "enhancement".
*** Don't forget to give the project a star!
*** Thanks again! Now go create something AMAZING! :D
-->

<!-- PROJECT LOGO -->
<br />
<div align="center">

  <h1 align="center">illeGITimate</h1>

</div> 

<!-- TABLE OF CONTENTS -->
<details>
  <summary>TABLE OF CONTENTS</summary>
  <ol>
    <li>
      <a href="#what-is-going-on-what-does-everything-mean">What is going on? What does everything mean?
      </a>
      <ul>
        <li><a href="#gitjava">Git.java</a></li>
        <li><a href="#objectsjava">Objects.java</a></li>
        <li><a href="#indexjava">Index.java</a></li>
        <li><a href="#headjava">Head.java</a></li>
        <li><a href="#illegitimatejava">IlleGITimate.java</a></li>
      </ul>
    </li>
    <li><a href="#tester">Tester</a></li>
    <li>
      <a href="#stretch-goals">Stretch Goals</a>
    </li>
    <li><a href="#tips">Tips</a></li>
    <li><a href="#how-do-i-run-the-code">How do I run the code?</a></li>
  </ol>
</details>

<br>

<!-- ABOUT THE PROJECT -->

# What is going on? What does everything mean?

Hey, it's Miles. Please read this entire thing (on Github, not VSCode, so you get the nice formatting) so that you have a good idea about how IlleGITimate works. I probably haven't done things in the best way so the purpose of this README is to give you a good idea of how I thought about coding this project thus far. Hopefully this means you will have an easier time making changes! 

The codebase of this project is broken up into individual `.java` files which each represent a core component of our Git recreation. **Each class, at it's core, is a file path wrapped with extra functionality.** Wrapping means each class contains a private `File` variable which it encloses:

- `Git.java` represents the folder `git`
- `Objects.java` represents the folder `git/objects`
- `Index.java` represents the file `git/index`
- `Head.java` represents the file `git/HEAD`

This means if you want to change something about the way the `git/objects` folder works, you should probably go to `Objects.java`. 

For each class, I'll point out some important methods that I've made and also the general methodology I had when writing it. 

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## ```Git.java```

There's nothing really going on in this class since the folder `git` just stores everything.

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## ```Objects.java```

There is *slightly* more stuff to look at in this file, but nothing that the code comments don't explain. `Objects.java` represents the directory which holds all the BLOBs. BLOBs are generated by: 
```java 
public void addFile(File file) {}
```
<p align="right">(<a href="#readme-top">back to top</a>)</p>

## ```Index.java```

Alright, dial in for this one. On inspection, it makes sense that the index file should have the most code. After all, it has to be able to store, add, and delete lines of text. Not only that, but it must persist after code execution is completed **and** it must be able to read any lines of text that it begins with.

**The most important part of `index.java`, and honestly the entire codebase, is the data structure `storedFiles`:**

```java
private HashMap<String, String> storedFiles
```

The gist of `storedFiles` is that (at runtime) it handles the following:
1. Stores any `(pathname, hash)` key-value pairs which might be in the index
2. Executes operations to add or remove key-value pairs. This represents adding or removing files from the `index` file.
3. Whenever (2) happens, those changes are immediately written to the `index` file.

In this way, any operation done to the `index` file is first handled by `storedFiles`. This makes everything easier since modifying a HashMap is significantly easier to code than directly modifying a file with no intermediary data type. 

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## ```Head.java```

There's nothing going on in this class. I'm sure we'll have to add functionality for it at some point so when we have to, please update this README.

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## ```IlleGITimate.java```

The purpose of this class is to coordinate all these classes and define methods like 

```java
public void commitFile(File file) throws IOException {
    // example code
    index.doSomething(file);
    objects.doSomething(file);
} 
```

which use methods from multiple classes to get things done. On its own, this class doesn't actually have any major functionality. It just calls a ton of methods from the subclasses. 

<p align="right">(<a href="#readme-top">back to top</a>)</p>

# Tester

The aptly-named `IlleGITimateTester.java` is what handles testing. There are a number of comprehensive tests defined within this class. **Please feel free to add more tests.**

Keep in mind, the tests 

```java 
public static void testCommittingNewTextFiles(IlleGITimate test) {}
```

and 

```java 
public static void testCommittingDuplicateTextFiles(IlleGITimate test) {}
```

have a ton of sub-tests within them. They also call `test.clearRepository()` at the end of their method call to clean the repository. If you wish to view the repository after those tests run, feel free to comment out this line. Just keep in mind that for the tests to run properly, everything has to be cleared so that the validation can run. 

The edge cases that I tested so far have been if a non-existent file is being committed. Personally, I think throwing a `FileNotFound` exception is good.

<p align="right">(<a href="#readme-top">back to top</a>)</p>

# Stretch Goals

In this project, there are a number of stretch goals. Since I don't think we've been following the naming convention in this Honors Topics class, **I'll list out the methods where all the stretch goals have been accomplished.** If you accomplish more stretch goals, please add to this!

### Stretch Goal (GP-2.1.1) - Make a tester that does things
```java
IlleGITimateTester.java
```

### Stretch Goal (GP-2.3.1) - Confirm BLOBs exist and reset them
```java
public static void testCommittingNewTextFiles(IlleGITimate test) {}

public static void testCommittingDuplicateTextFiles(IlleGITimate test) {}
```
```java
public void clearRepository() {}
```

### Streeeeeetch Goal (GP-2.3.2): (Optional) - Compression

haven't gotten to this one yet

### Stretch Goal (GP-2.4.1) - BLOBing various text files
```testTextFiles``` folder contains a few text files including duplicates
```java
public static void testCommittingNewTextFiles(IlleGITimate test) {}

public static void testCommittingDuplicateTextFiles(IlleGITimate test) {}
```
### Stretch Goal (GP-2.4.2) - Delete/clear methods
```java
public boolean deleteRepository() {}

public boolean clearRepository() {}
```

<p align="right">(<a href="#readme-top">back to top</a>)</p>

# Tips

Now that you've read everything above and (hopefully) understand the basics of how this project works, I have some tips/reminders.

1. Use the "Go to Definition" button if you don't exactly know what a method does. To access it, right click on the method signature and it should pop up. It'll send you right to where the method is defined.
2. If you add text files to `testTextFiles`, make sure to add them to the tests as well. 
3. **Use relative paths** when coding this project, it makes everything easier and portable.
4. Don't worry about messing with `lib`, those are just `.jar` files that let `generateSha1Hex(){}` work. If you want to add more dependencies, drop the `.jar` files in there.
5. This entire project only works for files with UTC-8 text within them. Maybe you wanna make it work for images?? :D

<p align="right">(<a href="#readme-top">back to top</a>)</p>

## How Do I Run the Code?

Hi! I put this at the end so that hopefully you've read everything above so that you know how the abominable code I made works. To run the code, edit ```src.java```. You'll probably be mainly working in the tester class though.

<p align="right">(<a href="#readme-top">back to top</a>)</p>
